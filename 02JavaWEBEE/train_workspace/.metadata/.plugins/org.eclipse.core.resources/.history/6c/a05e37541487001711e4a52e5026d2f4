package zd.c3p0;

import java.sql.SQLException;

import org.apache.commons.dbutils.QueryRunner;
import org.junit.Before;
import org.junit.Test;

import com.mchange.v2.c3p0.ComboPooledDataSource;

public class DemoCRUD {
	ComboPooledDataSource dataSource = null;
	QueryRunner runner = null;

	@Before
	public void init() {
		// 创建数据库连接池的连接
		dataSource = new ComboPooledDataSource();
		// 使用apache的工具类
		runner = new QueryRunner(dataSource);
	}

	@Test
	public void delete() throws SQLException {
		String sql="delete from products where id=?";
		runner.update(sql, "15");
	}
	/*
	@Test
	public void add() throws SQLException {
		String sql="insert into products values(null,?,?,?,?,?)";
		runner.update(sql, "大数据",13.07,"软件",190,"热门");
	}*/
	@Test
	public void update() throws SQLException {
		String sql="insert into products values(null,?,?,?,?,?)";
		runner.update(sql, "大数据",13.07,"软件",190,"热门");
		
		
	}
	@Test
	public void add() throws SQLException {
		String sql="insert into products values(null,?,?,?,?,?)";
		runner.update(sql, "大数据",13.07,"软件",190,"热门");
		
	}

}
