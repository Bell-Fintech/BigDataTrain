package zd.demo;

import java.sql.Connection;
import java.sql.SQLException;
import java.util.LinkedList;
import java.util.List;

public class MyDataPool {
	List<Connection> list=new LinkedList<Connection>();
	public MyDataPool() throws Exception{
		for(int i=0;i<5;i++){
			Connection conn=MyDbUtils.getConnection();
			list.add(conn);
		}
	}
	public Connection getConnection() throws SQLException {
		if(list.size()==0){
			for(int i=0;i<5;i++){
				Connection conn=MyDbUtils.getConnection();
				list.add(conn);
			}
		}
		Connection conn=list.remove(0);
		return conn;
	}
	

}
