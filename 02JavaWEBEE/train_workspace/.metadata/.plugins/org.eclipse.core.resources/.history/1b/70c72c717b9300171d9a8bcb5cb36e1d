package zd.controller;

import java.util.List;

import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

import zd.model.Items;
import zd.service.ItemsService;
import zd.service.impl.ItemsServiceImpl;
import zd.vo.ItemsVo;

@Controller
public class ItemsAction {
	@RequestMapping("/itemsList.shtml")
	public String itemsList(ItemsVo itemsVo,HttpServletRequest request){
		ItemsService itemsService=new 	ItemsServiceImpl();
		List<Items> itemsList=itemsService.findItemsByVo(itemsVo);
		request.setAttribute("itemsList", itemsList);
		request.setAttribute("vo", itemsVo);
		return "itemsList";
	}
	@RequestMapping("/addCart.shtml")
	public String cart(HttpServletResponse response,int id) {
		String key="items"+id;
		String value=id+"";
		Cookie cookie=new Cookie(key,value);
		cookie.setMaxAge(1000);
		response.addCookie(cookie);
		return "redirect:cart.shtm"
	}
}
